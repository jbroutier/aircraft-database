{% extends '_layouts/default.html.twig' %}

{% block title %}{{ aircraftType.name }} - {{ parent() }}{% endblock %}
{% block description %}{{ 'Technical data on %manufacturer% %name%: Dimensions, weight, range, performance,â€¦'|trans({
  '%manufacturer%': aircraftType.manufacturer is not null ? aircraftType.manufacturer.name,
  '%name%': aircraftType.name
}) }}{% endblock %}

{% block images %}
  {% for picture in aircraftType.pictures %}
    <meta property="og:image"
          content="{{ absolute_url(asset('pictures/' ~ picture)|imagine_filter('thumbnail_1200x1200')) }}">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1200">
  {% endfor %}
{% endblock %}

{% block content %}
  <div class="card">

    {% if aircraftType.pictures|length %}
      {% include '_partials/carousel.html.twig' with { pictures: aircraftType.pictures } %}
    {% else %}
      <img class="img-fluid" src="{{ asset('assets/images/no-picture-1400x800.webp') }}"
           width="1400" height="800" alt="">
    {% endif %}

  </div>
  <div class="card card-body">
    <h1 class="card-title">{{ aircraftType.name }}</h1>

    {% if aircraftType.manufacturer is not null %}
      <p class="card-text">
        <a href="{{ path('database_manufacturer_read', { slug: aircraftType.manufacturer.slug }) }}">
          {{ aircraftType.manufacturer.name }}
        </a>
      </p>
    {% endif %}

    {% if aircraftType.iataCode is not null or aircraftType.icaoCode is not null %}
      <p class="card-text">
        {{ 'IATA: %iataCode% | ICAO: %icaoCode%'|trans({
          '%iataCode%': aircraftType.iataCode|default('-'),
          '%icaoCode%': aircraftType.icaoCode|default('-')
        })|raw }}
      </p>
    {% endif %}

  </div>
  <div class="d-flex flex-column gap-3">

    {% include '_partials/properties.html.twig' with {
      propertyGroups: aircraftType.propertyGroups,
      propertyValues: aircraftType.propertyValues
    } %}
    {% include '_partials/database/aircraft_models.html.twig' %}
    {% include '_partials/database/engine_models.html.twig' %}

  </div>
{% endblock %}
